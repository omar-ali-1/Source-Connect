{% extends 'base.html' %}

{% load static %}

{% block styles %}
<link href="{% static 'sourcebasesite/css/issue-nav.css' %}?version=1" rel="stylesheet">
{% endblock styles %}


{% block content %}

	<!-- Error Message -->

	<div class="row">
		<div class="col-sm-12">
			{% if error %}
				<h3 style="font-style: red;">{{error}}</h3>
			{% endif %}
		</div>
	</div>


	<div class="row">
		<div class="col-sm-12">
			<a class="btn btn-outline-primary" role="button" data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
			  	Tags <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
			</a>
			<hr class="featurette-divider">
		</div>
	</div>



<div class="mini-map-container"><div class="mini-map-container__minimap" style="height: 144px;"><div class="mini-map-container__centered mini-map-container__centered--animated" style="left: 180px;"><div class="mini-map-container__translated mini-map-container__translated--not-dragging" style="left: -144px;"><div class="mini-map" style="height: 144px; width: 640px;"><svg class="mini-map__svg" width="640" height="144"><g transform="translate(0.5, 0.5)"><rect class="mini-map-argument-background" x="445" y="48" width="39" height="32"></rect><rect class="mini-map-argument-background" x="461" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="493" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="525" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="557" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="589" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="429" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="397" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="365" y="80" width="39" height="32"></rect><rect class="mini-map-argument-background" x="333" y="80" width="39" height="32"></rect><g class="mini-map-argument mini-map-argument--choice"><rect class="mini-map-argument__rect mini-map-argument__rect--filled mini-map-argument__rect--4748_1" height="16" width="24" x="308" y="24"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,48 336,48 336,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_288" height="16" width="24" x="324" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,48 368,48 368,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_268" height="16" width="24" x="356" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,48 400,48 400,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_264" height="16" width="24" x="388" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,48 432,48 432,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_217" height="16" width="24" x="420" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,48 496,48 496,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_4" height="16" width="24" x="484" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,48 528,48 528,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_3" height="16" width="24" x="516" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,48 560,48 560,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_2" height="16" width="24" x="548" y="56"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="320,40 320,48 304,48 304,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_325" height="16" width="24" x="292" y="56"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="320,40 320,48 272,48 272,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_234" height="16" width="24" x="260" y="56"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="320,40 320,48 240,48 240,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_32" height="16" width="24" x="228" y="56"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="320,40 320,48 208,48 208,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_25" height="16" width="24" x="196" y="56"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="320,40 320,48 176,48 176,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_11" height="16" width="24" x="164" y="56"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="320,40 320,48 144,48 144,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_7" height="16" width="24" x="132" y="56"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="320,40 320,48 112,48 112,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_6" height="16" width="24" x="100" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="320,40 320,49 464,49 464,56 " class="mini-map-argument__connector mini-map-argument__connector--impact-5 mini-map-argument__connector--con"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--filled mini-map-argument__rect--4748_47" height="16" width="24" x="452" y="56"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="464,72 464,80 480,80 480,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_231" height="16" width="24" x="468" y="88"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="464,72 464,80 512,80 512,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_224" height="16" width="24" x="500" y="88"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="464,72 464,80 544,80 544,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_133" height="16" width="24" x="532" y="88"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="464,72 464,80 576,80 576,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_98" height="16" width="24" x="564" y="88"></rect></g><g class="mini-map-argument mini-map-argument--con"><polyline points="464,72 464,80 608,80 608,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_53" height="16" width="24" x="596" y="88"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="464,72 464,80 448,80 448,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_229" height="16" width="24" x="436" y="88"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="464,72 464,80 416,80 416,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_228" height="16" width="24" x="404" y="88"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="464,72 464,80 384,80 384,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_227" height="16" width="24" x="372" y="88"></rect></g><g class="mini-map-argument mini-map-argument--pro"><polyline points="464,72 464,80 352,80 352,88 " class="mini-map-argument__connector mini-map-argument__connector--impact-0"></polyline><rect class="mini-map-argument__rect mini-map-argument__rect--4748_226" height="16" width="24" x="340" y="88"></rect></g></g></svg></div></div></div></div></div>



	<div class="row">
		<div class="col-sm-12">
			<div class="collapse" id="collapseExample">
	            <div class="well">
		            <div class="row">
		            	<div class="col-sm-10">
			            	<h5>Topics related to this issue.</h5>
			           	</div>
			        </div>
		            <div  id="issue_detail_taggle" class="textarea input clearfix example1"></div>
	        	</div>
			  <hr class="featurette-divider">
			</div>
		</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="{% static 'sourcebasesite/taggle.js-1.11.1/src/taggle.min.js' %}"></script>
	<script>
		new Taggle('issue_detail_taggle', {
    tags: {{ tags|safe }}
});
	</script>



	<!-- Issue title -->
	<div class="row">
		<div class="col-sm-12">
		 	<h2 class="section text-center"> Issue </h2>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-10">
			<h2>{{ issue.title | safe }} </h2> <!-- don't truncate characters -->
		</div>
		<div class="col-sm-2">
			<a href="{% url 'issuesite:editIssue' issue.key.id %}" class="btn btn-outline-primary my-2 my-sm-0 float-right" role="button">
				Edit Issue
			</a>
		</div>
	</div>

	<!-- Issue description -->

	<div class="row">
		<div class="col-sm-12">
		 	{{ issue.description | safe }}  <!-- don't truncate characters -->
		</div>
	</div>

	<hr class="featurette-divider">


	<!-- Claims title -->

	<div class="row">
		<div class="col-sm-12">
		 	<h2 class="section text-center"> Claims </h2>
		</div>
	</div>



	<div class="row">
		<div class="col-sm-12">
		    {% for claim in claims %}
		        <a target="_blank" class='list-group-item list-group-item-action' style="display: block;" href="{% url 'issuesite:claimDetail' issueID=issue.slug claimID=claim.slug %}">
		        	<div class='row'>
		        		<div class="col-sm-12">
		        			<h3>{{ claim.title | truncatechars:100}}</h3>
		        		</div>
		        	</div>
		        	<div class='row'>
		        		<div class="col-sm-12">
		        			<p> {{ claim.description | safe | truncatechars:300}} </p>
		        		</div>
		        	</div>
		        </a>
		    {% endfor %}
		</div>
	</div>



        	

{% endblock content %}

{% block scripts %}
	<script>
		var menuid = "navbar-issues";
		$(function() {
		    $('#' + menuid).addClass("active");
		});
	</script>
{% endblock scripts %}